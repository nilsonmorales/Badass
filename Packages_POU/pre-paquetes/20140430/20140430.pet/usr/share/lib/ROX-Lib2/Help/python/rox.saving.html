
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module rox.saving</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="rox.html"><font color="#ffffff">rox</font></a>.saving</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href="rox.html">index</a><br></font></td></tr></table>
    <p><tt>All&nbsp;ROX&nbsp;applications&nbsp;that&nbsp;can&nbsp;save&nbsp;documents&nbsp;should&nbsp;use&nbsp;drag-and-drop&nbsp;saving.<br>
The&nbsp;document&nbsp;itself&nbsp;should&nbsp;use&nbsp;the&nbsp;<a href="#Saveable">Saveable</a>&nbsp;mix-in&nbsp;class&nbsp;and&nbsp;override&nbsp;some&nbsp;of&nbsp;the<br>
methods&nbsp;to&nbsp;actually&nbsp;do&nbsp;the&nbsp;save.<br>
&nbsp;<br>
If&nbsp;you&nbsp;want&nbsp;to&nbsp;save&nbsp;a&nbsp;selection&nbsp;then&nbsp;you&nbsp;can&nbsp;create&nbsp;a&nbsp;new&nbsp;object&nbsp;specially&nbsp;for<br>
the&nbsp;purpose&nbsp;and&nbsp;pass&nbsp;that&nbsp;to&nbsp;the&nbsp;<a href="#SaveBox">SaveBox</a>.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="gtk.html#Dialog">gtk.Dialog</a>(<a href="gtk.html#Window">gtk.Window</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="rox.saving.html#SaveBox">SaveBox</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="rox.saving.html#StringSaver">StringSaver</a>(<a href="rox.saving.html#SaveBox">SaveBox</a>, <a href="rox.saving.html#Saveable">Saveable</a>)
</font></dt></dl>
</dd>
</dl>
</dd>
<dt><font face="helvetica, arial"><a href="gtk.html#VBox">gtk.VBox</a>(<a href="gtk.html#Box">gtk.Box</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="rox.saving.html#SaveArea">SaveArea</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="rox.html#UserAbort">rox.UserAbort</a>(<a href="exceptions.html#Exception">exceptions.Exception</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="rox.saving.html#AbortSave">AbortSave</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="rox.saving.html#Saveable">Saveable</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="rox.saving.html#SaveFilter">SaveFilter</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="AbortSave">class <strong>AbortSave</strong></a>(<a href="rox.html#UserAbort">rox.UserAbort</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Raise&nbsp;this&nbsp;to&nbsp;cancel&nbsp;a&nbsp;save.&nbsp;If&nbsp;a&nbsp;message&nbsp;is&nbsp;given,&nbsp;it&nbsp;is&nbsp;displayed<br>
in&nbsp;a&nbsp;normal&nbsp;alert&nbsp;box&nbsp;(not&nbsp;in&nbsp;the&nbsp;report_exception&nbsp;style).&nbsp;If&nbsp;the<br>
message&nbsp;is&nbsp;None,&nbsp;no&nbsp;message&nbsp;is&nbsp;shown&nbsp;(you&nbsp;should&nbsp;have&nbsp;already&nbsp;shown<br>
it!)<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="AbortSave-__init__"><strong>__init__</strong></a>(self, message)</dt></dl>

<dl><dt><a name="AbortSave-show"><strong>show</strong></a>(self)</dt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SaveArea">class <strong>SaveArea</strong></a>(<a href="gtk.html#VBox">gtk.VBox</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;<a href="#SaveArea">SaveArea</a>&nbsp;contains&nbsp;the&nbsp;widgets&nbsp;used&nbsp;in&nbsp;a&nbsp;save&nbsp;box.&nbsp;You&nbsp;can&nbsp;use<br>
this&nbsp;to&nbsp;put&nbsp;a&nbsp;savebox&nbsp;area&nbsp;in&nbsp;a&nbsp;larger&nbsp;window.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="SaveArea-__init__"><strong>__init__</strong></a>(self, document, uri, type)</dt><dd><tt>'document'&nbsp;must&nbsp;be&nbsp;a&nbsp;subclass&nbsp;of&nbsp;<a href="#Saveable">Saveable</a>.<br>
'uri'&nbsp;is&nbsp;the&nbsp;file's&nbsp;current&nbsp;location,&nbsp;or&nbsp;a&nbsp;simple&nbsp;name&nbsp;(eg&nbsp;'TextFile')<br>
if&nbsp;it&nbsp;has&nbsp;never&nbsp;been&nbsp;saved.<br>
'type'&nbsp;is&nbsp;the&nbsp;MIME-type&nbsp;to&nbsp;use&nbsp;(eg&nbsp;'text/plain').</tt></dd></dl>

<dl><dt><a name="SaveArea-confirm_new_path"><strong>confirm_new_path</strong></a>(self, path)</dt><dd><tt>User&nbsp;wants&nbsp;to&nbsp;save&nbsp;to&nbsp;this&nbsp;path.&nbsp;If&nbsp;it's&nbsp;different&nbsp;to&nbsp;the&nbsp;original&nbsp;path,<br>
check&nbsp;that&nbsp;it&nbsp;doesn't&nbsp;exist&nbsp;and&nbsp;ask&nbsp;for&nbsp;confirmation&nbsp;if&nbsp;it&nbsp;does.<br>
If&nbsp;document.save_last_stat&nbsp;is&nbsp;set,&nbsp;compare&nbsp;with&nbsp;os.stat&nbsp;for&nbsp;an&nbsp;existing&nbsp;file<br>
and&nbsp;warn&nbsp;about&nbsp;changes.<br>
Returns&nbsp;true&nbsp;to&nbsp;go&nbsp;ahead&nbsp;with&nbsp;the&nbsp;save.</tt></dd></dl>

<dl><dt><a name="SaveArea-drag_begin"><strong>drag_begin</strong></a>(self, drag_box, context)</dt></dl>

<dl><dt><a name="SaveArea-drag_data_get"><strong>drag_data_get</strong></a>(self, widget, context, selection_data, info, time)</dt></dl>

<dl><dt><a name="SaveArea-drag_end"><strong>drag_end</strong></a>(self, widget, context)</dt></dl>

<dl><dt><a name="SaveArea-save_done"><strong>save_done</strong></a>(self)</dt></dl>

<dl><dt><a name="SaveArea-save_to_file_in_entry"><strong>save_to_file_in_entry</strong></a>(self)</dt><dd><tt>Call&nbsp;this&nbsp;when&nbsp;the&nbsp;user&nbsp;clicks&nbsp;on&nbsp;an&nbsp;OK&nbsp;button&nbsp;you&nbsp;provide.</tt></dd></dl>

<dl><dt><a name="SaveArea-set_type"><strong>set_type</strong></a>(self, type, icon<font color="#909090">=None</font>)</dt><dd><tt>Change&nbsp;the&nbsp;icon&nbsp;and&nbsp;drag&nbsp;target&nbsp;to&nbsp;'type'.<br>
If&nbsp;'icon'&nbsp;is&nbsp;given&nbsp;(as&nbsp;a&nbsp;GtkImage)&nbsp;then&nbsp;that&nbsp;icon&nbsp;is&nbsp;used,<br>
otherwise&nbsp;an&nbsp;appropriate&nbsp;icon&nbsp;for&nbsp;the&nbsp;type&nbsp;is&nbsp;used.</tt></dd></dl>

<dl><dt><a name="SaveArea-set_uri"><strong>set_uri</strong></a>(self, uri)</dt><dd><tt>Data&nbsp;is&nbsp;safely&nbsp;saved&nbsp;somewhere.&nbsp;Update&nbsp;the&nbsp;document's&nbsp;URI&nbsp;and&nbsp;save_last_stat&nbsp;(for&nbsp;local&nbsp;saves).<br>
URI&nbsp;is&nbsp;not&nbsp;escaped.&nbsp;Internal.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SaveBox">class <strong>SaveBox</strong></a>(<a href="gtk.html#Dialog">gtk.Dialog</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;<a href="#SaveBox">SaveBox</a>&nbsp;is&nbsp;a&nbsp;GtkDialog&nbsp;that&nbsp;contains&nbsp;a&nbsp;<a href="#SaveArea">SaveArea</a>&nbsp;and,&nbsp;optionally,&nbsp;a&nbsp;Discard&nbsp;button.<br>
Calls&nbsp;rox.toplevel_(un)ref&nbsp;automatically.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="SaveBox-__init__"><strong>__init__</strong></a>(self, document, uri, type<font color="#909090">='text/plain'</font>, discard<font color="#909090">=False</font>, parent<font color="#909090">=None</font>)</dt><dd><tt>See&nbsp;<a href="#SaveArea">SaveArea</a>.__init__.<br>
parent&nbsp;was&nbsp;added&nbsp;in&nbsp;version&nbsp;2.0.5.&nbsp;To&nbsp;support&nbsp;older&nbsp;versions,&nbsp;use&nbsp;set_transient_for.<br>
If&nbsp;discard&nbsp;is&nbsp;True&nbsp;then&nbsp;an&nbsp;extra&nbsp;discard&nbsp;button&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;dialog.</tt></dd></dl>

<dl><dt><a name="SaveBox-build_main_area"><strong>build_main_area</strong></a>(self)</dt><dd><tt>Place&nbsp;self.<strong>save_area</strong>&nbsp;somewhere&nbsp;in&nbsp;self.<strong>vbox</strong>.&nbsp;Override&nbsp;this<br>
for&nbsp;more&nbsp;complicated&nbsp;layouts.</tt></dd></dl>

<dl><dt><a name="SaveBox-set_save_in_progress"><strong>set_save_in_progress</strong></a>(self, in_progress)</dt><dd><tt>Called&nbsp;when&nbsp;saving&nbsp;starts&nbsp;and&nbsp;ends.&nbsp;Shade/unshade&nbsp;any&nbsp;widgets&nbsp;as<br>
required.&nbsp;Make&nbsp;sure&nbsp;you&nbsp;call&nbsp;the&nbsp;default&nbsp;method&nbsp;too!<br>
Not&nbsp;called&nbsp;if&nbsp;box&nbsp;is&nbsp;destroyed&nbsp;from&nbsp;a&nbsp;recursive&nbsp;mainloop&nbsp;inside<br>
a&nbsp;save_to_*&nbsp;function.</tt></dd></dl>

<dl><dt><a name="SaveBox-set_type"><strong>set_type</strong></a>(self, type, icon<font color="#909090">=None</font>)</dt><dd><tt>See&nbsp;<a href="#SaveArea">SaveArea</a>'s&nbsp;method&nbsp;of&nbsp;the&nbsp;same&nbsp;name.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SaveFilter">class <strong>SaveFilter</strong></a>(<a href="rox.saving.html#Saveable">Saveable</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>This&nbsp;<a href="#Saveable">Saveable</a>&nbsp;runs&nbsp;a&nbsp;process&nbsp;in&nbsp;the&nbsp;background&nbsp;to&nbsp;generate&nbsp;the<br>
save&nbsp;data.&nbsp;Any&nbsp;python&nbsp;streams&nbsp;can&nbsp;be&nbsp;used&nbsp;as&nbsp;the&nbsp;input&nbsp;to&nbsp;and<br>
output&nbsp;from&nbsp;the&nbsp;process.<br>
&nbsp;<br>
The&nbsp;output&nbsp;from&nbsp;the&nbsp;subprocess&nbsp;is&nbsp;saved&nbsp;to&nbsp;the&nbsp;output&nbsp;stream&nbsp;(either<br>
directly,&nbsp;for&nbsp;fileno()&nbsp;streams,&nbsp;or&nbsp;via&nbsp;another&nbsp;temporary&nbsp;file).<br>
&nbsp;<br>
If&nbsp;the&nbsp;process&nbsp;returns&nbsp;a&nbsp;non-zero&nbsp;exit&nbsp;status&nbsp;or&nbsp;writes&nbsp;to&nbsp;stderr,<br>
the&nbsp;save&nbsp;fails&nbsp;(messages&nbsp;written&nbsp;to&nbsp;stderr&nbsp;are&nbsp;displayed).<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="SaveFilter-save_cancelled"><strong>save_cancelled</strong></a>(self)</dt><dd><tt>Send&nbsp;SIGTERM&nbsp;to&nbsp;the&nbsp;child&nbsp;processes.</tt></dd></dl>

<dl><dt><a name="SaveFilter-save_to_stream"><strong>save_to_stream</strong></a>(self, stream)</dt></dl>

<dl><dt><a name="SaveFilter-set_stdin"><strong>set_stdin</strong></a>(self, stream)</dt><dd><tt>Use&nbsp;'stream'&nbsp;as&nbsp;stdin&nbsp;for&nbsp;the&nbsp;process.&nbsp;If&nbsp;stream&nbsp;is&nbsp;not&nbsp;a<br>
seekable&nbsp;fileno()&nbsp;stream&nbsp;then&nbsp;it&nbsp;is&nbsp;copied&nbsp;to&nbsp;a&nbsp;temporary&nbsp;file<br>
at&nbsp;this&nbsp;point.&nbsp;If&nbsp;None,&nbsp;the&nbsp;child&nbsp;process&nbsp;will&nbsp;get&nbsp;/dev/null&nbsp;on<br>
stdin.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Saveable">class <strong>Saveable</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>This&nbsp;class&nbsp;describes&nbsp;the&nbsp;interface&nbsp;that&nbsp;an&nbsp;object&nbsp;must&nbsp;provide<br>
to&nbsp;work&nbsp;with&nbsp;the&nbsp;<a href="#SaveBox">SaveBox</a>/<a href="#SaveArea">SaveArea</a>&nbsp;widgets.&nbsp;Inherit&nbsp;from&nbsp;it&nbsp;if&nbsp;you<br>
want&nbsp;to&nbsp;save.&nbsp;All&nbsp;methods&nbsp;can&nbsp;be&nbsp;overridden,&nbsp;but&nbsp;normally&nbsp;only<br>
<a href="#Saveable-save_to_stream">save_to_stream</a>()&nbsp;needs&nbsp;to&nbsp;be.&nbsp;You&nbsp;can&nbsp;also&nbsp;set&nbsp;save_last_stat&nbsp;to<br>
the&nbsp;result&nbsp;of&nbsp;os.stat(filename)&nbsp;when&nbsp;loading&nbsp;a&nbsp;file&nbsp;to&nbsp;make&nbsp;ROX-Lib<br>
restore&nbsp;permissions&nbsp;and&nbsp;warn&nbsp;about&nbsp;other&nbsp;programs&nbsp;editing&nbsp;the&nbsp;file.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Saveable-can_save_to_file"><strong>can_save_to_file</strong></a>(self)</dt><dd><tt>Indicates&nbsp;whether&nbsp;we&nbsp;have&nbsp;a&nbsp;working&nbsp;save_to_stream&nbsp;or&nbsp;save_to_file<br>
method&nbsp;(ie,&nbsp;whether&nbsp;we&nbsp;can&nbsp;save&nbsp;to&nbsp;files).&nbsp;Default&nbsp;method&nbsp;checks&nbsp;that<br>
one&nbsp;of&nbsp;these&nbsp;two&nbsp;methods&nbsp;has&nbsp;been&nbsp;overridden.</tt></dd></dl>

<dl><dt><a name="Saveable-can_save_to_selection"><strong>can_save_to_selection</strong></a>(self)</dt><dd><tt>Indicates&nbsp;whether&nbsp;we&nbsp;have&nbsp;a&nbsp;working&nbsp;save_to_stream&nbsp;or&nbsp;save_to_selection<br>
method&nbsp;(ie,&nbsp;whether&nbsp;we&nbsp;can&nbsp;save&nbsp;to&nbsp;selections).&nbsp;Default&nbsp;methods&nbsp;checks&nbsp;that<br>
one&nbsp;of&nbsp;these&nbsp;two&nbsp;methods&nbsp;has&nbsp;been&nbsp;overridden.</tt></dd></dl>

<dl><dt><a name="Saveable-discard"><strong>discard</strong></a>(self)</dt><dd><tt>Discard&nbsp;button&nbsp;clicked,&nbsp;or&nbsp;document&nbsp;safely&nbsp;saved.&nbsp;Only&nbsp;called&nbsp;if&nbsp;a&nbsp;<a href="#SaveBox">SaveBox</a>&nbsp;<br>
was&nbsp;created&nbsp;with&nbsp;discard=1.<br>
The&nbsp;user&nbsp;doesn't&nbsp;want&nbsp;the&nbsp;document&nbsp;any&nbsp;more,&nbsp;even&nbsp;if&nbsp;it's&nbsp;modified&nbsp;and&nbsp;unsaved.<br>
Delete&nbsp;it.</tt></dd></dl>

<dl><dt><a name="Saveable-save_cancelled"><strong>save_cancelled</strong></a>(self)</dt><dd><tt>If&nbsp;you&nbsp;multitask&nbsp;during&nbsp;a&nbsp;save&nbsp;(using&nbsp;a&nbsp;recursive&nbsp;mainloop)&nbsp;then&nbsp;the<br>
user&nbsp;may&nbsp;click&nbsp;on&nbsp;the&nbsp;Cancel&nbsp;button.&nbsp;This&nbsp;function&nbsp;gets&nbsp;called&nbsp;if&nbsp;so,&nbsp;and<br>
should&nbsp;cause&nbsp;the&nbsp;recursive&nbsp;mainloop&nbsp;to&nbsp;return.</tt></dd></dl>

<dl><dt><a name="Saveable-save_done"><strong>save_done</strong></a>(self)</dt><dd><tt>Time&nbsp;to&nbsp;close&nbsp;the&nbsp;savebox.&nbsp;Default&nbsp;method&nbsp;does&nbsp;nothing.</tt></dd></dl>

<dl><dt><a name="Saveable-save_set_permissions"><strong>save_set_permissions</strong></a>(self, path)</dt><dd><tt>The&nbsp;default&nbsp;<a href="#Saveable-save_to_file">save_to_file</a>()&nbsp;creates&nbsp;files&nbsp;with&nbsp;the&nbsp;mode&nbsp;0600<br>
(user&nbsp;read/write&nbsp;only).&nbsp;After&nbsp;saving&nbsp;has&nbsp;finished,&nbsp;it&nbsp;calls&nbsp;this<br>
method&nbsp;to&nbsp;set&nbsp;the&nbsp;final&nbsp;permissions.&nbsp;The&nbsp;<a href="#Saveable-save_set_permissions">save_set_permissions</a>():<br>
-&nbsp;sets&nbsp;it&nbsp;to&nbsp;0666&nbsp;masked&nbsp;with&nbsp;the&nbsp;umask&nbsp;(if&nbsp;save_mode&nbsp;is&nbsp;None),&nbsp;or<br>
-&nbsp;sets&nbsp;it&nbsp;to&nbsp;save_last_stat.st_mode&nbsp;(not&nbsp;masked)&nbsp;otherwise.</tt></dd></dl>

<dl><dt><a name="Saveable-save_to_file"><strong>save_to_file</strong></a>(self, path)</dt><dd><tt>Write&nbsp;data&nbsp;to&nbsp;file.&nbsp;Raise&nbsp;an&nbsp;exception&nbsp;on&nbsp;error.<br>
The&nbsp;default&nbsp;creates&nbsp;a&nbsp;temporary&nbsp;file,&nbsp;uses&nbsp;<a href="#Saveable-save_to_stream">save_to_stream</a>()&nbsp;to<br>
write&nbsp;to&nbsp;it,&nbsp;then&nbsp;renames&nbsp;it&nbsp;over&nbsp;the&nbsp;original.&nbsp;If&nbsp;the&nbsp;temporary&nbsp;file<br>
can't&nbsp;be&nbsp;created,&nbsp;it&nbsp;writes&nbsp;directly&nbsp;over&nbsp;the&nbsp;original.</tt></dd></dl>

<dl><dt><a name="Saveable-save_to_selection"><strong>save_to_selection</strong></a>(self, selection_data)</dt><dd><tt>Write&nbsp;data&nbsp;to&nbsp;the&nbsp;selection.&nbsp;The&nbsp;default&nbsp;method&nbsp;uses&nbsp;<a href="#Saveable-save_to_stream">save_to_stream</a>().</tt></dd></dl>

<dl><dt><a name="Saveable-save_to_stream"><strong>save_to_stream</strong></a>(self, stream)</dt><dd><tt>Write&nbsp;the&nbsp;data&nbsp;to&nbsp;save&nbsp;to&nbsp;the&nbsp;stream.&nbsp;When&nbsp;saving&nbsp;to&nbsp;a<br>
local&nbsp;file,&nbsp;stream&nbsp;will&nbsp;be&nbsp;the&nbsp;actual&nbsp;file,&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;a<br>
cStringIO&nbsp;object.</tt></dd></dl>

<dl><dt><a name="Saveable-set_uri"><strong>set_uri</strong></a>(self, uri)</dt><dd><tt>When&nbsp;the&nbsp;data&nbsp;is&nbsp;safely&nbsp;saved&nbsp;somewhere&nbsp;this&nbsp;is&nbsp;called<br>
with&nbsp;its&nbsp;new&nbsp;name.&nbsp;Mark&nbsp;your&nbsp;data&nbsp;as&nbsp;unmodified&nbsp;and&nbsp;update<br>
the&nbsp;filename&nbsp;for&nbsp;next&nbsp;time.&nbsp;Saving&nbsp;to&nbsp;another&nbsp;application<br>
won't&nbsp;call&nbsp;this&nbsp;method.&nbsp;Default&nbsp;method&nbsp;does&nbsp;nothing.<br>
The&nbsp;URI&nbsp;may&nbsp;be&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;a&nbsp;URI&nbsp;or&nbsp;a&nbsp;local&nbsp;path.<br>
It&nbsp;is&nbsp;UTF-8,&nbsp;not&nbsp;escaped&nbsp;(%&nbsp;really&nbsp;means&nbsp;%).</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="StringSaver">class <strong>StringSaver</strong></a>(<a href="rox.saving.html#SaveBox">SaveBox</a>, <a href="rox.saving.html#Saveable">Saveable</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;very&nbsp;simple&nbsp;<a href="#SaveBox">SaveBox</a>&nbsp;which&nbsp;saves&nbsp;the&nbsp;string&nbsp;passed&nbsp;to&nbsp;its&nbsp;constructor.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="StringSaver-__init__"><strong>__init__</strong></a>(self, string, name)</dt><dd><tt>'string'&nbsp;is&nbsp;the&nbsp;string&nbsp;to&nbsp;save.&nbsp;'name'&nbsp;is&nbsp;the&nbsp;default&nbsp;filename</tt></dd></dl>

<dl><dt><a name="StringSaver-save_to_stream"><strong>save_to_stream</strong></a>(self, stream)</dt></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-image_for_type"><strong>image_for_type</strong></a>(type, size<font color="#909090">=48</font>, flags<font color="#909090">=0</font>)</dt><dd><tt>See&nbsp;mime.image_for_type</tt></dd></dl>
</td></tr></table>
</body></html>